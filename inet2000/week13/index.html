<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Canvas</title>
    <style>
   	 #myCanvas { border: 1px solid #00f; }
    </style>
</head>
<body>
    
    <canvas id="myCanvas" width="500" height="500"></canvas>
    
    <script>
   	var c = document.getElementById("myCanvas");
	var ctx = c.getContext("2d");
	
		
		function squareSetTimeout(i, j) {
  setTimeout(function() { ctx.fillRect(i, j, 18, 18); }, 500);
}

	function lineSetTimeoutDown(i,j) {
  setTimeout(function() { ctx.beginPath();
		ctx.moveTo(i,0);
		ctx.fillRect(i,j, 10, 10);}, 500);
}

	function lineSetTimeoutAccross(i,j) {
  setTimeout(function() { ctx.beginPath();
		ctx.moveTo(0,i);
		ctx.fillRect(j,i, 10, 10);}, 500);
}
		
		
 	function squareFill(){

		for(var i = 0; i<520; i+= 20){
		for(var j = 0; j<520; j+= 20)
		squareSetTimeout(i, j)
			}
			
		}
	 
	 function lineDraw(){
		 for(var i = -5; i< 520; i+= 20){
			 for( var j = 0; j< 501; j++){
		lineSetTimeoutDown(i,j)
		lineSetTimeoutAccross(i,j)
			}
		 }
	 }	 
	
	squareFill();
	lineDraw();

    </script>
</body>
</html>